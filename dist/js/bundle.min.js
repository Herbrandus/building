!function t(e,i,o){function l(s,r){if(!i[s]){if(!e[s]){var n="function"==typeof require&&require;if(!r&&n)return n(s,!0);if(h)return h(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var a=i[s]={exports:{}};e[s][0].call(a.exports,function(t){return l(e[s][1][t]||t)},a,a.exports,t,e,i,o)}return i[s].exports}for(var h="function"==typeof require&&require,s=0;s<o.length;s++)l(o[s]);return l}({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const o=t("./mapGenerationFunctions.component"),l=t("./config.component"),h=t("./renderelements.component");i.Renderer=class{constructor(){this.config=new l.Config,this.calculations=new o.MapGenerationFunctions,this.render=new h.RenderElements}showData(t){let e='<div class="showData">';return e+=`map width: ${t.mapWidth} tiles<br>map length: ${t.mapLength} tiles<br>`,e+=`tile width: ${this.config.tileWidth}<br>tile length: ${this.config.tileLength}<br>`,e+="</div>"}build2DMap(t){let e=`<div class="map" style="width:${this.config.getMapWidth(t.mapWidth)}px;">`;for(let i=0;i<t.mapLength;i++)for(let o=0;o<t.mapWidth;o++)if(e+=`<div class="tile" style="width:${this.config.tileWidth}px;height:${this.config.tileLength}px;`,t.getColumn(o,i).isDefined){let l=t.getTopTile(o,i),h=l.getColor().rgb();e+=`background-color:${`rgb(${h.r}, ${h.g}, ${h.b})`}">${l.id}<br>(${o}, ${i})</div>`}else e+=`">${o}, ${i}</div>`;return e+="</div>"}buildMap(t){let e=t.mapWidth,i=t.mapLength,o=this.render.createTile(0,0),l=(o.coords.bottom.x,o.coords.top.x,o.coords.right.y-o.coords.left.y),h=o.coords.top.x-o.coords.left.x,s=o.coords.right.x-o.coords.top.x,r=o.coords.right.y,n=r*e,d=(o.coords.bottom.y-o.coords.right.y)*i,a=Math.round((h+s)*e),g=Math.round(n+d);const c=t.map;let $="",u='<svg width="'+a+'" height="'+g+'">',b=null,p=h*(e-1);for(let t=0;t<i;t++)for(let i=0;i<e;i++){let e=0,o=0;0===i&&0===t&&(o=p),null!=b&&(e=b.coords.right.y),t>0&&0===i&&(o=p-h*t,e=r*t-l*t),i>0&&(o=b.coords.right.x-(b.coords.right.x-b.coords.bottom.x));let s=this.render.createTile(o,e),n="";if(c[t][i].isDefined)for(let l=0;l<c[t][i].height;l++){let h=this.render.createBlock(o,e,c[t][i].tileStack[l]);n+=h.html,l===c[t][i].height-1&&($+=`<div class="blockLabel" style="left: ${h.coords.top.x}px; top: ${h.coords.top.y-(this.config.tileHeight*l-1)}px;"><div class="point"></div><span>id: ${c[t][i].tileStack[l].id}<br>h: ${l}</span></div>`)}u+=s.html+n,b=s}return'<div id="debug">'+$+"</div>"+(u+="</svg>")}addSlopedEdges(t,e,i,o,l,h){let s=null;return s=t[i][e].edge.top&&!t[i][e].corner&&o===t[i][e].height-1?this.render.createSlopeBlock(l,h-this.config.tileHeight,t[i][e].getTile(o),"n"):t[i][e].edge.bottom&&!t[i][e].corner&&o===t[i][e].height-1?this.render.createSlopeBlock(l,h-this.config.tileHeight,t[i][e].getTile(o),"s"):t[i][e].edge.right&&!t[i][e].corner&&o===t[i][e].height-1?this.render.createSlopeBlock(l,h-this.config.tileHeight,t[i][e].getTile(o),"e"):t[i][e].edge.left&&!t[i][e].corner&&o===t[i][e].height-1?this.render.createSlopeBlock(l,h-this.config.tileHeight,t[i][e].getTile(o),"w"):this.render.createBlock(l,h-this.config.tileHeight,t[i][e].getTile(o)),t[i][e].corner&&o===t[i][e].height-1&&(t[i][e].edge.top&&t[i][e].edge.left?s=this.render.createSlopeBlock(l,h-this.config.tileHeight,t[i][e].getTile(o),"nw"):t[i][e].edge.top&&t[i][e].edge.right?s=this.render.createSlopeBlock(l,h-this.config.tileHeight,t[i][e].getTile(o),"ne"):t[i][e].edge.bottom&&t[i][e].edge.left?s=this.render.createSlopeBlock(l,h-this.config.tileHeight,t[i][e].getTile(o),"sw"):t[i][e].edge.bottom&&t[i][e].edge.right&&(s=this.render.createSlopeBlock(l,h-this.config.tileHeight,t[i][e].getTile(o),"se"))),s}}},{"./config.component":2,"./mapGenerationFunctions.component":4,"./renderelements.component":7}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const o=t("./mapGenerationFunctions.component");i.Config=class{constructor(){this._tileWidth=35,this._tileLength=35,this._tileHeight=20,this._tileSmallAngle=85,this._tileLargeAngle=100,this._groundColor=new o.Color("f5f3e5"),this._buildingBaseColor=new o.Color(115+Math.floor(75*Math.random()),155+Math.floor(40*Math.random()),150+Math.floor(30*Math.random())),this._tileEdgeBleed=.3,this._maxAllowedHeight=12}get tileWidth(){return this._tileWidth}get tileLength(){return this._tileLength}get tileHeight(){return this._tileHeight}get tileSmallAngle(){return this._tileSmallAngle}get tileLargeAngle(){return this._tileLargeAngle}get groundColor(){return this._groundColor}get buildingBaseColor(){return this._buildingBaseColor}get tileEdgeBleed(){return this._tileEdgeBleed}get maxAllowedHeight(){return this._maxAllowedHeight}getMapWidth(t){return t*this._tileWidth}getMapLength(t){return t*this._tileLength}}},{"./mapGenerationFunctions.component":4}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const o=t("./mapper.component"),l=t("./builder.component"),h=t("./config.component");class s{constructor(){this._builder=new l.Renderer,this.config=new h.Config,this._map=new o.default(20,20,10,2,4+Math.floor(7*Math.random()),2,4,!1),document.querySelector("body").style.background=this.config.groundColor.hex()}get map(){return this._map}colorMap(){return this._builder.showData(this._map)+this._builder.build2DMap(this._map)}drawTileMap(){return this._builder.buildMap(this._map)}}document.querySelector("#generate").addEventListener("click",()=>{const t=new s;document.querySelector("#world").innerHTML=t.drawTileMap(),document.querySelector("#debugActive").classList.remove("active"),document.querySelectorAll(".blockLabel").forEach(t=>{t.addEventListener("click",()=>{t.classList.toggle("active")})})}),document.querySelector("#debugActive").addEventListener("click",()=>{document.querySelector("#debug").classList.toggle("show"),document.querySelector("#debugActive").classList.toggle("active")});const r=new s;document.querySelector("#world").innerHTML=r.drawTileMap(),document.querySelectorAll(".blockLabel").forEach(t=>{t.addEventListener("click",()=>{t.classList.toggle("active")})})},{"./builder.component":1,"./config.component":2,"./mapper.component":5}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const o=t("./config.component");i.MapGenerationFunctions=class{constructor(){this.config=new o.Config,this.smallAngle=this.config.tileSmallAngle,this.largeAngle=this.config.tileLargeAngle}calculateAdditionalBlockIterations(t){return 2+Math.floor(Math.random()*t)}calculateStraightLinesFromIsometricSquare(t,e){let i=(180-this.smallAngle)/2,o=(180-this.largeAngle)/2,l=this.getHorizontalBottomShortestWidth(t,i),h=this.getVerticalBottomShortestHeight(l,i),s=this.getHorizontalTopLongestWidth(e,o),r=this.getVerticalTopLongestHeight(s,o);return{totalWidth:l+s,totalHeight:h+r,horizontalWidthFromBottom:l,horizontalWidthFromTop:s,verticalHeightFromBottom:h,verticalHeightFromTop:r}}getHorizontalBottomShortestWidth(t,e){return t*Math.sin(this.toRadians(e))}getVerticalBottomShortestHeight(t,e){return t*Math.cos(this.toRadians(e))}getHorizontalTopLongestWidth(t,e){return t*Math.sin(this.toRadians(e))}getVerticalTopLongestHeight(t,e){return t*Math.cos(this.toRadians(e))}toRadians(t){return t*(Math.PI/180)}},function(t){t[t.Red=125+Math.floor(75*Math.random())]="Red",t[t.Green=170+Math.floor(40*Math.random())]="Green",t[t.Blue=180+Math.floor(30*Math.random())]="Blue"}(i.TileColor||(i.TileColor={})),function(t){t.TallCenter="tallCenter",t.TallSurrounds="tallSurrounds",t.Random="random"}(i.BuildingHeightVariations||(i.BuildingHeightVariations={}));i.Color=class{constructor(...t){let e=null;if(1===t.length)if("string"==typeof t[0])if(this.validateHex(t[0])){let e=t[0];"#"!==e.charAt(0)&&(e=`#${e}`),this.setHex(e),this.hexToRgb()}else e="Hexadecimal color is incorrect";else e="Length of 1 in parameters is not equal to string";else 3===t.length&&(this.validateRgb(t)?(this.setRgb(t[0],t[1],t[2]),this.rgbToHex()):e="Values of RGB exceed limits");if(null!==e)throw"Color type is incorrect. "+e+": "+t.toString()}setRgb(t,e,i){this._colorRgb={r:t,g:e,b:i}}setHex(t){if(t.length<7){let e=t.charAt(1),i=t.charAt(2),o=t.charAt(3);t="#"+e+e+i+i+o+o}this._colorHex=t}rgb(){return this._colorRgb}hex(){return this._colorHex}validateRgb(t){return t[0]>-1&&t[0]<256&&t[1]>-1&&t[1]<256&&t[2]>-1&&t[2]<256}validateHex(t){return!!t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)}hexToRgb(){let t=this._colorHex.substr(1).split(""),e=parseInt(t[0]+t[1],16),i=parseInt(t[2]+t[3],16),o=parseInt(t[4]+t[5],16);this.setRgb(e,i,o),this.rgbToHex()}rgbToHex(){if("object"==typeof this._colorRgb){let t=this._colorRgb.r,e=this._colorRgb.b,i=this._colorRgb.g,o=Number(t).toString(16),l=Number(i).toString(16),h=Number(e).toString(16);this._colorHex="#"+o+l+h}}changeColorLighting(t,e){let i=this._colorRgb.r,o=this._colorRgb.b,l=i+t,h=this._colorRgb.g+t,s=o+(t-8);return l>255&&(l=255),h>255&&(h=255),l>255&&(l=255),"#"+Number(l).toString(16)+Number(h).toString(16)+Number(s).toString(16)}getLightestRGB(){let t=this._colorRgb.r,e=this._colorRgb.b,i=t+55,o=this._colorRgb.g+55;return i>255&&(i=255),o>255&&(o=255),i>255&&(i=255),{r:i,g:o,b:e+40}}getHighlightsRGB(){let t=this._colorRgb.r,e=this._colorRgb.b,i=t+45,o=this._colorRgb.g+45;return i>255&&(i=255),o>255&&(o=255),i>255&&(i=255),{r:i,g:o,b:e+30}}getDarkerRegularRGB(){let t=this._colorRgb.r,e=this._colorRgb.b,i=t+15,o=this._colorRgb.g+15;return i>255&&(i=255),o>255&&(o=255),i>255&&(i=255),{r:i,g:o,b:e+5}}getHalflightsRGB(){let t=this._colorRgb.r,e=this._colorRgb.b,i=t+25,o=this._colorRgb.g+25;return i>255&&(i=255),o>255&&(o=255),i>255&&(i=255),{r:i,g:o,b:e+15}}getShadowsRGB(){let t=this._colorRgb.r,e=this._colorRgb.b,i=t-55,o=this._colorRgb.g-55;return i<0&&(i=0),o<0&&(o=0),i<0&&(i=0),{r:i,g:o,b:e-35}}getDarkestRGB(){let t=this._colorRgb.r,e=this._colorRgb.b,i=t-70,o=this._colorRgb.g-70;return i<0&&(i=0),o<0&&(o=0),i<0&&(i=0),{r:i,g:o,b:e-60}}}},{"./config.component":2}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const o=t("./mapGenerationFunctions.component"),l=t("./tile.component"),h=t("./config.component"),s=t("./primitives.component");i.default=class{constructor(t,e,i,n,d,a,g,c){this._mapGen=new o.MapGenerationFunctions,this.config=new h.Config,this.primitives=new s.Primitives,this._blockHeightVariationLabels=[o.BuildingHeightVariations.TallCenter,o.BuildingHeightVariations.TallSurrounds,o.BuildingHeightVariations.Random],this._blockHeightVariation=this._blockHeightVariationLabels[Math.floor(3*Math.random())],this._mapWidth=t,this._mapLength=e,this._mapMaxHeight=i,this._mapEdgeWidth=n,this._averageBuildingSize=d,this._blockHeight=a,this._maximumBlockIterations=g,this._additionalBlockIterations=this._mapGen.calculateAdditionalBlockIterations(g),this._blockGroups=[],this._blockEdges=[],this._blockHeightsArray=[],this._mapHalfLength=Math.floor(e/2),this._blockIdIterator=0;let $=Math.floor(e/2),u=(Math.floor(t/2),this._averageBuildingSize+1+Math.floor(6*Math.random())),b=this._averageBuildingSize+Math.floor(5*Math.random()),p=6+Math.floor(6*Math.random()),f=Math.floor(u/2),_=(Math.floor(b/2),Math.floor(this._mapWidth/2)-Math.floor(p/2));this._world=[];let m;this._blockHeightVariation===o.BuildingHeightVariations.TallCenter?m=2*a:this._blockHeightVariation===o.BuildingHeightVariations.TallSurrounds?a=m=1+Math.round(Math.random()):m=a;for(let t=0;t<this.mapLength;t++){this._world[t]=[];for(let e=0;e<this.mapWidth;e++){let i=0,o=new r(!1,e,t,0);if(t>=$&&t<=$+f&&e>_&&e<=_+b){i=1;let h=[];for(let o=0;o<m;o++){let s=0,r=0,n=o===m-1;h.push(new l.Tile(this._blockIdIterator,e,t,o,l.TileType.Body,this.config.buildingBaseColor,{roof:n,pillar:s,windowed:r,tower:!1})),-1===this._blockGroups.indexOf(i)?this._blockGroups[i]=new Array([t,e]):this._blockGroups[i].push([t,e]),this._blockHeightsArray.push(m),this._blockIdIterator++}(o=new r(!0,e,t,m)).blockGroup=i,o.height=m,o.corner=!1,o.tileStack=h}this._world[t][e]=o}}console.log("i: "+this._blockIdIterator);for(let t=0;t<this._additionalBlockIterations;t++){console.log("iteration #"+t),this.getEdges();let e=2+Math.ceil(Math.random()*(this._blockEdges.length-2)),i=0;console.log("this._blockEdges",this._blockEdges),console.log("randomPositionPicker",e),this._blockHeightVariation===o.BuildingHeightVariations.TallCenter?i=this._blockHeight-t:this._blockHeightVariation===o.BuildingHeightVariations.TallSurrounds?i=this._blockHeight+t:this._blockHeightVariation===o.BuildingHeightVariations.Random&&(i=this._blockHeight+1),i<2?i=2:i>this.config.maxAllowedHeight&&(i=this.config.maxAllowedHeight);let h=this._blockEdges[e].x,s=this._blockEdges[e].y,n=this._averageBuildingSize-2+Math.floor(4*Math.random()),d=this._averageBuildingSize-2+Math.floor(4*Math.random());for(let e=0;e<this._mapLength;e++)for(let o=0;o<this._mapWidth;o++)if(e>=h-Math.floor(n/2)&&e<=h+Math.floor(n/2)&&o>=s-Math.floor(d/2)&&o<=s+Math.floor(d/2)){let h=t+2,s=[];for(let t=0;t<i;t++){let n=0,d=0,a=t===i-1;s.push(new l.Tile(this._blockIdIterator,o,e,t,l.TileType.Body,this.config.buildingBaseColor,{roof:a,pillar:n,windowed:d,tower:!1})),-1===this._blockGroups.indexOf(h)?this._blockGroups[h]=new Array([e,o]):this._blockGroups[h].push([e,o]),this._world[e][o]=null;let g=new r(!0,o,e,i);g.blockGroup=h,g.height=i,g.corner=!1,g.tileStack=s,this._blockHeightsArray.push(i),this._blockIdIterator++,this._world[e][o]=g}}}this.clearMapEdges(),console.log("i: "+this._blockIdIterator),console.log(this._world)}get mapWidth(){return this._mapWidth}get mapLength(){return this._mapLength}get map(){return this._world}getColumn(t,e){return this._world[e][t]}getTiles(t,e){return this._world[e][t].tileStack}getTile(t,e,i){return this._world[e][t].getTile(i)}getTopTile(t,e){let i=this._world[e][t].height;return this._world[e][t].getTile(i-1)}setEdges(t){for(let e=0;e<this.mapLength;e++)for(let i=0;i<this.mapWidth;i++)e>0&&i>0&&e<this.mapLength-1&&i<this.mapWidth-1&&this._world[e][i].isDefined&&(t?(this._world[e-1][i].height<this._world[e][i].height&&(this._world[e][i].edge.top=!0),this._world[e+1][i].height<this._world[e][i].height&&(this._world[e][i].edge.bottom=!0),this._world[e][i-1].height<this._world[e][i].height&&(this._world[e][i].edge.left=!0),this._world[e][i+1].height<this._world[e][i].height&&(this._world[e][i].edge.right=!0)):(this._world[e-1][i].isDefined||(this._world[e][i].edge.top=!0),this._world[e+1][i].isDefined||(this._world[e][i].edge.bottom=!0),this._world[e][i-1].isDefined||(this._world[e][i].edge.left=!0),this._world[e][i+1].isDefined||(this._world[e][i].edge.right=!0)),(this._world[e][i].edge.top&&this._world[e][i].edge.right||this._world[e][i].edge.top&&this._world[e][i].edge.left||this._world[e][i].edge.bottom&&this._world[e][i].edge.right||this._world[e][i].edge.bottom&&this._world[e][i].edge.left)&&(this._world[e][i].corner=!0))}getEdges(){for(let t=0;t<this._mapLength;t++)if(t>this._mapHalfLength+1)for(let e=0;e<this._mapWidth;e++)if(e>this._mapEdgeWidth&&e<this._mapWidth-1&&this._world[t][e].isDefined&&(this._world[t][e+1].isDefined||this._world[t][e-1].isDefined||this._world[t-1][e].isDefined||this._world[t-1][e+1].isDefined||this._world[t-1][e-1].isDefined)){let i={x:e,y:t};this._blockEdges.push(i)}}clearMapEdges(){for(let t=0;t<this._mapLength;t++)for(let e=0;e<this._mapWidth;e++)if(e<=this._mapEdgeWidth||e>=this._mapWidth-this._mapEdgeWidth||t<=this._mapEdgeWidth||t>=this._mapLength-this._mapEdgeWidth){this._world[t][e]=null;let i=new r(!1,e,t,0);this._world[t][e]=i}}createPyramid(){let t=this.primitives.getPyramid(),e=this.mapLength-t.length,i=this.mapWidth-t[0].length,o=Math.round(i/2),h=Math.round(e/2),s=[];for(let t=0;t<this.mapWidth;t++)s.push(0);for(let e=0;e<t.length;e++)for(let i=0;i<o;i++)t[e].unshift(0),t[e].push(0);for(let e=0;e<this.mapLength-1;e++)e<h-1?t.unshift(s):e>t.length+2-h&&t.push(s);this._world=t;let n=0;for(let e=0;e<this.mapLength;e++)for(let i=0;i<this.mapWidth;i++){let o=t[e][i],h=new r(!1,i,e,0),s=0,d=[];if(o>0){for(let t=0;t<o;t++){let h=0,r=0,a=t===o-1;d.push(new l.Tile(n,i,e,t,l.TileType.Body,this.config.buildingBaseColor,{roof:a,pillar:h,windowed:r,tower:!1})),-1===this._blockGroups.indexOf(s)?this._blockGroups[s]=new Array([e,i]):this._blockGroups[s].push([e,i]),n++}(h=new r(!0,i,e,o)).blockGroup=s,h.height=o,h.corner=!1,h.tileStack=d}this._world[e][i]=h}}};class r{constructor(t,e,i,o){this.defined=t,this.colX=e,this.colY=i,this.colHeight=o,this._edge={top:!1,right:!1,bottom:!1,left:!1},this._tileStack=[],this._defined=t,this._x=e,this._y=i,this._height=o}set x(t){this._x=t}set y(t){this._y=t}set height(t){this._height=t}set blockGroup(t){this._blockGroup=t}set corner(t){this._corner=t}set edge(t){this._edge=t}set tileStack(t){this._tileStack=t}get isDefined(){return this._defined}get x(){return this._x}get y(){return this._y}get height(){return this._height}get blockGroup(){return this._blockGroup}get corner(){return this._corner}get edge(){return this._edge}get tileStack(){return this._tileStack}getTile(t){return this._tileStack[t]}}},{"./config.component":2,"./mapGenerationFunctions.component":4,"./primitives.component":6,"./tile.component":8}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.Primitives=class{getPyramid(){return[[0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,0],[0,1,2,2,2,2,2,2,2,2,1,0],[0,1,2,3,3,3,3,3,3,2,1,0],[0,1,2,3,4,4,4,4,3,2,1,0],[0,1,2,3,4,5,5,4,3,2,1,0],[0,1,2,3,4,5,5,4,3,2,1,0],[0,1,2,3,4,4,4,4,3,2,1,0],[0,1,2,3,3,3,3,3,3,2,1,0],[0,1,2,2,2,2,2,2,2,2,1,0],[0,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0]]}}},{}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const o=t("./config.component"),l=t("./mapGenerationFunctions.component");i.RenderElements=class{constructor(){this.config=new o.Config,this.calculations=new l.MapGenerationFunctions,this.tileW=this.config.tileWidth,this.tileL=this.config.tileLength,this.tileH=this.config.tileHeight,this.bleed=this.config.tileEdgeBleed,this.dimensions=this.calculations.calculateStraightLinesFromIsometricSquare(this.tileW,this.tileL),this.tileColor=this.config.groundColor.hex(),this.regularColor=this.config.buildingBaseColor.hex(),this.regularDarkerColor=this.config.buildingBaseColor.changeColorLighting(-10,"hex"),this.regularLighterColor=this.config.buildingBaseColor.changeColorLighting(10,"hex"),this.shadowLight=this.config.buildingBaseColor.changeColorLighting(-20,"hex"),this.shadowHighlight=this.config.buildingBaseColor.changeColorLighting(20,"hex"),this.shadow=this.config.buildingBaseColor.changeColorLighting(-30,"hex"),this.highlight=this.config.buildingBaseColor.changeColorLighting(30,"hex"),this.almostDarkestColor=this.config.buildingBaseColor.changeColorLighting(-40,"hex"),this.almostLightestColor=this.config.buildingBaseColor.changeColorLighting(40,"hex"),this.darkestColor=this.config.buildingBaseColor.changeColorLighting(-50,"hex"),this.lightestColor=this.config.buildingBaseColor.changeColorLighting(50,"hex")}createTile(t,e){let i={x:t+this.dimensions.horizontalWidthFromTop,y:e},o={x:t,y:e+this.dimensions.verticalHeightFromTop},l={x:t+this.dimensions.horizontalWidthFromBottom,y:e+this.dimensions.totalHeight},h={x:t+this.dimensions.totalWidth,y:e+this.dimensions.verticalHeightFromBottom},s=`${i.x} ${i.y-this.bleed}`,r=`${o.x-this.bleed} ${o.y}`,n=`${l.x} ${l.y+this.bleed}`,d=`${h.x+this.bleed} ${h.y}`;return{html:`<path fill="${this.tileColor}"\n\t\t\t\t\td="M${r} \n\t\t\t\t\tL${n} \n\t\t\t\t\tL${d} \n\t\t\t\t\tL${s} \n\t\t\t\t\tL${r} Z" />`,coords:{top:i,left:o,bottom:l,right:h}}}createBlock(t,e,i){let o=i.id,l=i.h*this.tileH-this.tileH,h={x:Math.ceil(t+this.dimensions.horizontalWidthFromTop),y:Math.ceil(e)},s={x:Math.ceil(t),y:Math.ceil(e+this.dimensions.verticalHeightFromTop)},r={x:Math.ceil(t+this.dimensions.horizontalWidthFromBottom),y:Math.ceil(e+this.dimensions.totalHeight)},n={x:Math.ceil(t+this.dimensions.totalWidth),y:Math.ceil(e+this.dimensions.verticalHeightFromBottom)},d=`${s.x-this.bleed} ${s.y-l-this.tileH}`,a=`${s.x-this.bleed} ${s.y-l+this.bleed}`,g=`${r.x} ${r.y-l+this.bleed}`,c=`${r.x} ${r.y-l-this.tileH}`,$=`${r.x} ${r.y-l-this.tileH}`,u=`${r.x} ${r.y-l+this.bleed}`,b=`${n.x+this.bleed} ${n.y-l+this.bleed}`,p=`${n.x+this.bleed} ${n.y-l-this.tileH}`,f=`${s.x-this.bleed} ${s.y-l-this.tileH}`,_=`${r.x} ${r.y-l-this.tileH}`,m=`${n.x+this.bleed} ${n.y-l-this.tileH}`,x=`${h.x} ${h.y-l-this.tileH}`;return{html:`<g style="z-index:${o};"><path fill="${this.darkestColor}"\n\t\t\t\t\td="M${d} \n\t\t\t\t\tL${a} \n\t\t\t\t\tL${g} \n\t\t\t\t\tL${c} \n\t\t\t\t\tL${d} Z" />\n\t\t\t\t\t<path fill="${this.regularColor}"\n\t\t\t\t\td="M${$} \n\t\t\t\t\tL${u} \n\t\t\t\t\tL${b} \n\t\t\t\t\tL${p} \n\t\t\t\t\tL${$} Z" />\n\t\t\t\t\t<path fill="${this.highlight}"\n\t\t\t\t\td="M${f} \n\t\t\t\t\tL${_} \n\t\t\t\t\tL${m} \n\t\t\t\t\tL${x} \n\t\t\t\t\tL${f} Z" /></g>`,coords:{top:h,left:s,bottom:r,right:n}}}createSlopeBlock(t,e,i,o){let l=i.id,h=i.h*this.tileH-this.tileH,s={x:Math.ceil(t+this.dimensions.horizontalWidthFromTop),y:Math.ceil(e)},r={x:Math.ceil(t),y:Math.ceil(e+this.dimensions.verticalHeightFromTop)},n={x:Math.ceil(t+this.dimensions.horizontalWidthFromBottom),y:Math.ceil(e+this.dimensions.totalHeight)},d={x:Math.ceil(t+this.dimensions.totalWidth),y:Math.ceil(e+this.dimensions.verticalHeightFromBottom)},a="",g={top:s,left:r,bottom:n,right:d};if("n"===o){let t=`${r.x-this.bleed} ${r.y-h-this.tileH}`,e=`${r.x-this.bleed} ${r.y-h+this.bleed}`,i=`${n.x} ${n.y-h+this.bleed}`,o=`${n.x} ${n.y-h-this.tileH}`,g=`${n.x} ${n.y-h-this.tileH}`,c=`${n.x} ${n.y-h+this.bleed}`,$=`${d.x+this.bleed} ${d.y-h+this.bleed}`,u=`${r.x-this.bleed} ${r.y-h-this.tileH}`,b=`${n.x} ${n.y-h-this.tileH}`,p=`${d.x+this.bleed} ${d.y-h+this.bleed}`,f=`${s.x} ${s.y-h}`;a=`<g style="z-index:${l};">\n\t\t\t\t\t\t\t<path fill="${this.shadow}"\n\t\t\t\t\t\t\td="M${t} \n\t\t\t\t\t\t\tL${e} \n\t\t\t\t\t\t\tL${i} \n\t\t\t\t\t\t\tL${o} \n\t\t\t\t\t\t\tL${t} Z" />\n\t\t\t\t\t\t\t<path fill="${this.regularColor}"\n\t\t\t\t\t\t\td="M${g}\n\t\t\t\t\t\t\tL${c}\n\t\t\t\t\t\t\tL${$}\n\t\t\t\t\t\t\tL${g} Z" />\n\t\t\t\t\t\t\t<path fill="${this.lightestColor}"\n\t\t\t\t\t\t\td="M${u}\n\t\t\t\t\t\t\tL${b}\n\t\t\t\t\t\t\tL${p}\n\t\t\t\t\t\t\tL${f}\n\t\t\t\t\t\t\tL${u} Z" />\n\t\t\t\t\t\t</g>`}if("nw"===o){console.log("northwest");let t=`${r.x-this.bleed} ${r.y-h}`,e=`${r.x-this.bleed} ${r.y-h+this.bleed}`,i=`${n.x} ${n.y-h-this.tileH+this.bleed}`,o=`${r.x-this.bleed} ${r.y-h+this.bleed}`,g=`${n.x} ${n.y-h-this.tileH+this.bleed}`,c=`${s.x} ${s.y-h}`,$=`${n.x} ${n.y-h-this.tileH}`,u=`${d.x+this.bleed} ${d.y-h+this.bleed}`,b=`${s.x} ${s.y-h}`;a=`<g style="z-index:${l};">\n\t\t\t\t\t\t\t<path fill="${this.darkestColor}"\n\t\t\t\t\t\t\td="M${t}\n\t\t\t\t\t\t\tL${e}\n\t\t\t\t\t\t\tL${i}\n\t\t\t\t\t\t\tL${t} Z" />\n\t\t\t\t\t\t\t<path fill="${this.regularDarkerColor}"\n\t\t\t\t\t\t\td="M${o}\n\t\t\t\t\t\t\tL${g}\n\t\t\t\t\t\t\tL${c}\n\t\t\t\t\t\t\tL${o} Z" />\n\t\t\t\t\t\t\t<path fill="${this.lightestColor}"\n\t\t\t\t\t\t\td="M${$}\n\t\t\t\t\t\t\tL${u}\n\t\t\t\t\t\t\tL${b}\n\t\t\t\t\t\t\tL${$} Z" />\n\t\t\t\t\t\t</g>`}if("s"===o){let t=`${n.x} ${n.y-h+this.bleed}`,e=`${d.x+this.bleed} ${d.y-h+this.bleed}`,i=`${d.x+this.bleed} ${d.y-h-this.tileH}`,o=`${r.x-this.bleed} ${r.y-h+this.bleed}`,g=`${n.x} ${n.y-h+this.bleed}`,c=`${d.x+this.bleed} ${d.y-h-this.tileH+this.bleed}`,$=`${s.x} ${s.y-h-this.tileH}`;a=`<g style="z-index:${l};">\n\t\t\t\t\t\t\t<path fill="${this.regularColor}"\n\t\t\t\t\t\t\td="M${t}\n\t\t\t\t\t\t\tL${e}\n\t\t\t\t\t\t\tL${i}\n\t\t\t\t\t\t\tL${t} Z" />\n\t\t\t\t\t\t\t<path fill="${this.shadow}"\n\t\t\t\t\t\t\td="M${o}\n\t\t\t\t\t\t\tL${g}\n\t\t\t\t\t\t\tL${c}\n\t\t\t\t\t\t\tL${$}\n\t\t\t\t\t\t\tL${o} Z" />\n\t\t\t\t\t\t</g>`}if("se"===o){let t=`${r.x-this.bleed} ${r.y-h+this.bleed}`,e=`${n.x} ${n.y-h+this.bleed}`,i=`${s.x} ${s.y-h-this.tileH}`,o=`${n.x} ${n.y-h+this.bleed}`,g=`${d.x+this.bleed} ${d.y-h+this.bleed}`,c=`${s.x} ${s.y-h-this.tileH}`;a=`<g style="z-index:${l};">\n\t\t\t\t\t\t<path fill="${this.shadow}"\n\t\t\t\t\t\td="M${t}\n\t\t\t\t\t\tL${e}\n\t\t\t\t\t\tL${i}\n\t\t\t\t\t\tL${t} Z" />\n\t\t\t\t\t\t<path fill="${this.regularDarkerColor}"\n\t\t\t\t\t\td="M${g}\n\t\t\t\t\t\tL${o}\n\t\t\t\t\t\tL${c}\n\t\t\t\t\t\tL${g} Z" />\n\t\t\t\t\t</g>`}if("e"===o){let t=`${r.x-this.bleed} ${r.y-h-this.tileH}`,e=`${r.x-this.bleed} ${r.y-h+this.bleed}`,i=`${n.x} ${n.y-h+this.bleed}`,o=`${r.x-this.bleed} ${r.y-h-this.tileH+this.bleed}`,g=`${n.x} ${n.y-h+this.bleed}`,c=`${d.x+this.bleed} ${d.y-h+this.bleed}`,$=`${s.x} ${s.y-h-this.tileH}`;a=`<g style="z-index:${l};">\n\t\t\t\t\t\t\t<path fill="${this.darkestColor}"\n\t\t\t\t\t\t\td="M${t}\n\t\t\t\t\t\t\tL${e}\n\t\t\t\t\t\t\tL${i}\n\t\t\t\t\t\t\tL${t} Z" />\n\t\t\t\t\t\t\t<path fill="${this.regularDarkerColor}"\n\t\t\t\t\t\t\td="M${o}\n\t\t\t\t\t\t\tL${g}\n\t\t\t\t\t\t\tL${c}\n\t\t\t\t\t\t\tL${$}\n\t\t\t\t\t\t\tL${o} Z" />\n\t\t\t\t\t\t</g>`}if("ne"===o){let t=`${r.x-this.bleed} ${r.y-h-this.tileH}`,e=`${r.x-this.bleed} ${r.y-h+this.bleed}`,i=`${n.x} ${n.y-h+this.bleed}`,o=`${r.x-this.bleed} ${r.y-h-this.tileH+this.bleed}`,g=`${d.x+this.bleed} ${d.y-h+this.bleed}`,c=`${s.x} ${s.y-h}`,$=`${r.x-this.bleed} ${r.y-h-this.tileH+this.bleed}`,u=`${n.x} ${n.y-h+this.bleed}`,b=`${d.x+this.bleed} ${d.y-h+this.bleed}`;a=`<g style="z-index:${l};">\n\t\t\t\t\t\t<path fill="${this.darkestColor}"\n\t\t\t\t\t\td="M${t}\n\t\t\t\t\t\tL${e}\n\t\t\t\t\t\tL${i}\n\t\t\t\t\t\tL${t} Z" />\n\t\t\t\t\t\t<path fill="${this.regularDarkerColor}"\n\t\t\t\t\t\td="M${$}\n\t\t\t\t\t\tL${u}\n\t\t\t\t\t\tL${b}\n\t\t\t\t\t\tL${$} Z" />\n\t\t\t\t\t\t<path fill="${this.lightestColor}"\n\t\t\t\t\t\td="M${o}\n\t\t\t\t\t\tL${c}\n\t\t\t\t\t\tL${g}\n\t\t\t\t\t\tL${o} Z" />\n\t\t\t\t\t</g>`}if("w"===o){let t=`${r.x-this.bleed} ${r.y-h}`,e=`${r.x-this.bleed} ${r.y-h+this.bleed}`,i=`${n.x} ${n.y-h-this.tileH+this.bleed}`,o=`${r.x-this.bleed} ${r.y-h+this.bleed}`,g=`${n.x} ${n.y-h-this.tileH+this.bleed}`,c=`${d.x+this.bleed} ${d.y-h-this.tileH+this.bleed}`,$=`${s.x} ${s.y-h}`;a=`<g style="z-index:${l};">\n\t\t\t\t\t\t\t<path fill="${this.darkestColor}"\n\t\t\t\t\t\t\td="M${t}\n\t\t\t\t\t\t\tL${e}\n\t\t\t\t\t\t\tL${i}\n\t\t\t\t\t\t\tL${t} Z" />\n\t\t\t\t\t\t\t<path fill="${this.regularDarkerColor}"\n\t\t\t\t\t\t\td="M${o}\n\t\t\t\t\t\t\tL${g}\n\t\t\t\t\t\t\tL${c}\n\t\t\t\t\t\t\tL${$}\n\t\t\t\t\t\t\tL${o} Z" />\n\t\t\t\t\t\t</g>`}if("sw"===o){let t=`${n.x} ${n.y-h+this.bleed}`,e=`${d.x+this.bleed} ${d.y-h+this.bleed}`,i=`${d.x+this.bleed} ${d.y-h-this.tileH}`,o=`${r.x-this.bleed} ${r.y-h+this.bleed}`,g=`${n.x} ${n.y-h+this.bleed}`,c=`${d.x+this.bleed} ${d.y-h-this.tileH+this.bleed}`,$=`${s.x} ${s.y-h}`;a=`<g style="z-index:${l};">\n\t\t\t\t\t\t\t<path fill="${this.regularColor}"\n\t\t\t\t\t\t\td="M${t}\n\t\t\t\t\t\t\tL${e}\n\t\t\t\t\t\t\tL${i}\n\t\t\t\t\t\t\tL${t} Z" />\n\t\t\t\t\t\t\t<path fill="${this.regularDarkerColor}"\n\t\t\t\t\t\t\td="M${o}\n\t\t\t\t\t\t\tL${$}\n\t\t\t\t\t\t\tL${c}\n\t\t\t\t\t\t\tL${o} Z" />\n\t\t\t\t\t\t\t<path fill="${this.shadow}"\n\t\t\t\t\t\t\td="M${o}\n\t\t\t\t\t\t\tL${g}\n\t\t\t\t\t\t\tL${c}\n\t\t\t\t\t\t\tL${o} Z" />\n\t\t\t\t\t\t</g>`}return{html:a,coords:g}}}},{"./config.component":2,"./mapGenerationFunctions.component":4}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o;i.Tile=class{constructor(t,e,i,o,l,h,s){this._options={},this._id=t,this._x=e,this._y=i,this._h=o,this._tileType=l,this._tileColor=h,s&&(this._options=s)}get id(){return this._id}get x(){return this._x}get y(){return this._y}get h(){return this._h}get type(){return this._tileType}get options(){return this._tileType!=o.None?this._options:{defined:!1}}getColor(){return this._tileColor}},function(t){t.None="none",t.Body="body",t.Tower="tower",t.Roof="roof"}(o=i.TileType||(i.TileType={}))},{}]},{},[1,2,3,4,5,6,7,8]);
//# sourceMappingURL=bundle.min.js.map
